# from sympy import isprime   # if you want to use sympy's isprime

class Solution(object):
    def countPrimeSetBits(self, left, right):
        """
        :type left: int
        :type right: int
        :rtype: int
        """
        cnt1 = 0
        for i in range(left, right + 1):
            num = i
            val = format(num, 'b')  
            cnt = 0
            for item in val:
                if item == "1":      
                    cnt += 1
            if self.is_prime(cnt):   # call local function
                cnt1 += 1
        return cnt1   # return the final count

    def is_prime(self, n):
        if n <= 1:
            return False
        if n <= 3:
            return True
        if n % 2 == 0 or n % 3 == 0:
            return False
        i = 5
        while i * i <= n:
            if n % i == 0 or n % (i + 2) == 0:
                return False
            i += 6
        return True
