class Solution:
    def specialTriplets(self, nums: List[int]) -> int:
        MOD = 10**9 + 7
        total_count = 0
        
        # Frequency maps
        max_val = max(nums)
        right_freq = [0] * (max_val + 1)
        left_freq = [0] * (max_val + 1)
        
        # Populate right_freq
        for num in nums:
            right_freq[num] += 1
            
        for num in nums:
            # Remove current number from right (it is now the center 'j')
            right_freq[num] -= 1
            
            target = num * 2
            
            # Check bounds and valid counts
            if target <= max_val:
                l_count = left_freq[target]
                r_count = right_freq[target]
                total_count = (total_count + l_count * r_count) % MOD
            
            # Add current number to left for future iterations
            left_freq[num] += 1
            
        return total_count
