from collections import deque

class Solution:
    def findLexSmallestString(self, s, a, b):
        init = tuple(int(ch) for ch in s)
        n = len(init)

        seen = {init}
        dq = deque([init])

        while dq:
            cur = dq.popleft()

            l1 = list(cur)
            for i in range(1, n, 2):
                l1[i] = (l1[i] + a) % 10
            t1 = tuple(l1)
            if t1 not in seen:
                seen.add(t1)
                dq.append(t1)

            l2 = tuple(cur[-b:] + cur[:-b])
            if l2 not in seen:
                seen.add(l2)
                dq.append(l2)

        best = min(seen)
        return ''.join(str(d) for d in best)   
